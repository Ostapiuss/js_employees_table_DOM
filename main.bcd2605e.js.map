{"version":3,"sources":["scripts/main.js"],"names":["mainTable","document","querySelector","tbody","trElemnets","rows","thElements","cells","formatText","tableValue","replace","selected","counter","sortTableElments","clickEvent","target","tagName","cellIndex","indexOf","sortedByCategory","sort","currentTbodyElement","nextTbodyElement","Value","textContent","nextValue","isNaN","parseInt","localeCompare","append","addEventListener","parentNode","classList","remove","add","body","insertAdjacentHTML","bodyElement","saveButton","formElement","inputName","querySelectorAll","inputPosition","inputOffice","inputAge","inputSalary","createNotification","title","description","type","notificationMessage","addUser","firstName","position","office","age","salary","value","Number","toLocaleString","notificationShow","e","preventDefault","length","setTimeout"],"mappings":"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","file":"main.bcd2605e.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst mainTable = document.querySelector('table');\r\n\r\nconst tbody = document.querySelector('tbody');\r\nconst trElemnets = [...tbody.rows];\r\n\r\nconst thElements = [...mainTable.rows[0].cells];\r\n\r\nfunction formatText(tableValue) {\r\n  return tableValue.replace(/[^a-zA-Z0-9_-]/g, '');\r\n}\r\n\r\nlet counter = 0;\r\n\r\nfunction sortTableElments(clickEvent) {\r\n  if (clickEvent.target.tagName === 'TH') {\r\n    const cellIndex = thElements.indexOf(clickEvent.target);\r\n\r\n    counter++;\r\n\r\n    const sortedByCategory = trElemnets.sort(\r\n      (currentTbodyElement, nextTbodyElement) => {\r\n        const Value = formatText(\r\n          currentTbodyElement.cells[cellIndex].textContent\r\n        );\r\n        const nextValue = formatText(\r\n          nextTbodyElement.cells[cellIndex].textContent\r\n        );\r\n\r\n        if (counter % 2 === 0) {\r\n          return isNaN(parseInt(Value))\r\n            ? nextValue.localeCompare(Value)\r\n            : parseInt(nextValue) - parseInt(Value);\r\n        }\r\n\r\n        return isNaN(parseInt(Value))\r\n          ? Value.localeCompare(nextValue)\r\n          : parseInt(Value) - parseInt(nextValue);\r\n      }\r\n    );\r\n\r\n    tbody.append(...sortedByCategory);\r\n  }\r\n}\r\n\r\nmainTable.addEventListener('click', sortTableElments);\r\n\r\nlet selected;\r\n\r\ntbody.addEventListener('click', (clickEvent) => {\r\n  if (selected) {\r\n    selected.parentNode.classList.remove('active');\r\n  }\r\n\r\n  selected = clickEvent.target;\r\n  selected.parentNode.classList.add('active');\r\n});\r\n\r\ndocument.body.insertAdjacentHTML('beforeend', `\r\n<form class=\"new-employee-form\">\r\n  <label>Name:\r\n    <input\r\n      name=\"name\"\r\n      data-qa=\"name\"\r\n      type=\"text\"\r\n      required\r\n    >\r\n    </label>\r\n  <label>Position:\r\n    <input\r\n      name=\"position\"\r\n      data-qa=\"position\"\r\n      type=\"text\"\r\n    >\r\n  </label>\r\n  <label>Office:\r\n    <select\r\n      name=\"position\"\r\n      data-qa=\"office\"\r\n      required\r\n    >\r\n      <option value=\"Tokyo\">Tokyo</option>\r\n      <option value=\"Singapore\">Singapore</option>\r\n      <option value=\"London\">London</option>\r\n      <option value=\"New York\">New York</option>\r\n      <option value=\"Edinburgh\">Edinburgh</option>\r\n      <option value=\"San Francisco\">San Francisco</option>\r\n    </select>\r\n  </label>\r\n  <label>Age:\r\n    <input\r\n      name=\"age\"\r\n      data-qa=\"age\"\r\n      type=\"number\"\r\n      required\r\n    >\r\n  </label>\r\n  <label>Salary:\r\n    <input\r\n      name=\"salary\"\r\n      data-qa=\"salary\"\r\n      type=\"number\"\r\n      required\r\n    >\r\n  </label>\r\n  <button type =\"submit\">\r\n    Save to table\r\n  </button>\r\n</form>\r\n`);\r\n\r\nconst bodyElement = document.querySelector('body');\r\n\r\nconst saveButton = document.querySelector('button');\r\n\r\nconst formElement = document.querySelector('.new-employee-form');\r\n\r\nconst inputName = formElement.querySelectorAll('input')[0];\r\nconst inputPosition = formElement.querySelectorAll('input')[1];\r\nconst inputOffice = formElement.querySelector('select');\r\nconst inputAge = formElement.querySelectorAll('input')[2];\r\nconst inputSalary = formElement.querySelectorAll('input')[3];\r\n\r\nfunction createNotification(title, description, type) {\r\n  const notificationMessage = `\r\n  <div class = 'notification ${type}' data-qa= 'notification'>\r\n    <h2>${title}</h2>\r\n    <p>${description}</p>\r\n  </div>\r\n  `;\r\n\r\n  return notificationMessage;\r\n}\r\n\r\nfunction addUser(firstName, position, office, age, salary) {\r\n  return `\r\n  <tr>\r\n    <td>${firstName.value}</td>\r\n    <td>${position.value}</td>\r\n    <td>${office.value}</td>\r\n    <td>${age.value}</td>\r\n    <td>$${Number(salary.value).toLocaleString('en')}</td>\r\n  </tr>\r\n  `;\r\n}\r\n\r\nconst notificationShow = (e) => {\r\n  e.preventDefault();\r\n\r\n  if (inputName.value.length < 4) {\r\n    bodyElement.insertAdjacentHTML(\r\n      'beforeend',\r\n      createNotification(\r\n        'Error Message',\r\n        'Sorr, but your name field has less than 4 symbols',\r\n        'error'\r\n      )\r\n    );\r\n  } else if (+inputAge.value < 18 || +inputAge.value > 90) {\r\n    bodyElement.insertAdjacentHTML(\r\n      'beforeend',\r\n      createNotification(\r\n        'Error Message',\r\n        'Not adult age',\r\n        'error'\r\n      )\r\n    );\r\n  } else if (inputPosition.value.length === 0) {\r\n    bodyElement.insertAdjacentHTML(\r\n      'beforeend',\r\n      createNotification(\r\n        'Error Message',\r\n        'Please choose your position',\r\n        'error'\r\n      )\r\n    );\r\n  } else {\r\n    tbody.insertAdjacentHTML(\r\n      'beforeend',\r\n      addUser(inputName, inputPosition, inputOffice, inputAge, inputSalary)\r\n    );\r\n\r\n    bodyElement.insertAdjacentHTML(\r\n      'beforeend',\r\n      createNotification(\r\n        'Successfull Message',\r\n        'new user successfully added!',\r\n        'success'\r\n      )\r\n    );\r\n\r\n    inputAge.value = '';\r\n    inputName.value = '';\r\n    inputPosition.value = '';\r\n    inputSalary.value = '';\r\n  }\r\n\r\n  setTimeout(() => {\r\n    document.querySelector('div').remove();\r\n  }, 5000);\r\n};\r\n\r\nsaveButton.addEventListener('click', notificationShow);\r\n\r\n// tbody.addEventListener('dblclick', (clickEvent) => {\r\n//   const currenValue = clickEvent.target.innerText;\r\n\r\n//   clickEvent.target.innerText = '';\r\n\r\n//   const inputCell = document.createElement('input');\r\n\r\n//   inputCell.classList.add('cell-input');\r\n//   inputCell.value = currenValue;\r\n\r\n//   clickEvent.target.append(inputCell);\r\n\r\n//   const activeNode = document.querySelector('.cell-input');\r\n\r\n//   if (activeNode.value !== clickEvent.target.innerText) {\r\n//     tbody.addEventListener('click', () => {\r\n//       activeNode.parentNode.innerText = activeNode.value;\r\n//       activeNode.remove();\r\n//     });\r\n//   }\r\n// });\r\n"]}